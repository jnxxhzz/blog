(function($){var img_url=null;var input_obj=null;var img_obj=null;var init=function(url){input_obj=this;img_url=url;input_obj.focus(function(){show()});input_obj.blur(function(){hide()});return this};var show=function(){if(img_obj==null){input_obj.after('<div style="display:none;" id="img_captcha" title="点击更换"></div>');img_obj=$("#img_captcha");img_obj.css({"position":"absolute","cursor":"pointer","border":"1px solid #CCC","background-color":"#FFF","background-position":"center","background-repeat":"no-repeat","border-radius":"5px","box-shadow":"5px 5px 8px #CCC","height":2*input_obj.height(),"width":"150px","background-image":"url("+img_url+")","display":"inline-block"});img_obj.offset({top:input_obj.offset().top-2*input_obj.height()-5,left:input_obj.offset().left});img_obj.bind({click:function(){input_obj.focus()},mouseover:function(){input_obj.unbind("blur")},mouseout:function(){input_obj.blur(function(){hide()})}})}else{img_obj.css({"background-image":"url("+img_url+"?_t="+Math.random(0,1)+")","display":"inline-block"})}};var hide=function(){if(img_obj!=null){img_obj.css("display","none")}};$.fn.captcha=function(img_url){if(typeof img_url==="object"||!img_url){$.error("Please input a img url")}else{return init.call(this,img_url)}}})(jQuery);